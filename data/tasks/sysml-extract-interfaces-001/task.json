{
  "id": "sysml-extract-interfaces-001",
  "type": "analysis",
  "name": "SysML v2 Interface Extraction",
  "description": "Extract interface definitions and their endpoints from a SysML v2 model.",
  "prompt": "Extract all `interface def` declarations from this SysML v2 model.\n\nReturn a JSON array where each object contains:\n- \"name\": the interface definition name\n- \"ends\": array of {\"name\": end name, \"type\": port type, \"conjugate\": true/false if prefixed with ~}\n\nExample output format:\n```json\n[\n  {\n    \"name\": \"VerbalCommunication\",\n    \"ends\": [\n      {\"name\": \"communicationPartnerA\", \"type\": \"VerbalExchange\", \"conjugate\": false},\n      {\"name\": \"communicationPartnerB\", \"type\": \"VerbalExchange\", \"conjugate\": true}\n    ]\n  }\n]\n```\n\nAlso extract interface usages (interface statements with connect clauses) if present.",
  "maxTokens": 1500,
  "files": {
    "initial": "files"
  },
  "evaluation": {
    "type": "llm-judge",
    "criteria": ["completeness", "json_validity", "endpoint_accuracy"],
    "rubric": {
      "completeness": "1.0: Extracts the VerbalCommunication interface def and all 4 interface usages (verbalAdultCommunicationActionWoman, verbalAdultCommunicationActionMan, verbalParentingCommunicationActionWoman, and one more). 0.5: Finds the interface def but misses some usages. 0.0: Misses the interface def.",
      "json_validity": "1.0: Valid JSON array with correct object structure including 'name' and 'ends' fields. 0.5: Valid JSON but minor structural issues. 0.0: Invalid JSON.",
      "endpoint_accuracy": "1.0: Correctly identifies both ends of VerbalCommunication: communicationPartnerA (VerbalExchange, not conjugate) and communicationPartnerB (~VerbalExchange, conjugate). Understands ~ prefix means conjugate. 0.5: Identifies ends but conjugate flag incorrect. 0.0: Wrong end names or types."
    },
    "weight": 1.5
  },
  "metadata": {
    "difficulty": "medium",
    "category": "extraction",
    "source": "GfSE/SysML-v2-Models example_family/family.sysml",
    "tags": ["extraction", "interfaces", "connections"]
  }
}
