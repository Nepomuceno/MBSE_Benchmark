---
export interface Props {
  value: number;
  showLabel?: boolean;
  size?: 'sm' | 'md' | 'lg';
}

const { value, showLabel = true, size = 'md' } = Astro.props;
const percentage = Math.round(value * 100);

const getColorClass = (pct: number) => {
  if (pct >= 80) return 'bg-emerald-500';
  if (pct >= 60) return 'bg-cyan-500';
  if (pct >= 40) return 'bg-amber-500';
  return 'bg-red-500';
};

const heightClass = size === 'sm' ? 'h-1.5' : size === 'lg' ? 'h-3' : 'h-2';
---

<div class="flex items-center space-x-3">
  <div class={`flex-1 ${heightClass} bg-slate-100 rounded-full overflow-hidden`}>
    <div
      class={`h-full ${getColorClass(percentage)} rounded-full transition-all`}
      style={`width: ${percentage}%`}
    >
    </div>
  </div>
  {showLabel && (
    <span class="font-mono text-sm font-medium text-slate-700 w-12 text-right">
      {percentage}%
    </span>
  )}
</div>
