{
  "id": "sysml-transform-statemachine-001",
  "type": "generation",
  "name": "SysML v2 State Machine to Executable TypeScript Transformation",
  "description": "Transform a SysML v2 state machine definition into executable TypeScript code with state management",
  "prompt": "Transform this SysML v2 state machine into executable TypeScript code:\n\n1. Create a TypeScript enum for all states (ready, running, paused, stopped)\n2. Create interfaces for all signal/event types (action defs)\n3. Create a state machine class with:\n   - Private currentState property\n   - Constructor that initializes to the entry state\n   - Public method for each transition that:\n     * Checks if the current state matches the 'first' state\n     * Accepts the appropriate signal type\n     * Transitions to the 'then' state if valid\n     * Returns boolean indicating success\n   - Public getCurrentState() method\n   - Event handler methods for processing signals\n\nThe code should be executable, type-safe, and maintain proper state machine semantics (only valid transitions allowed).\n\nInclude comments explaining the state machine logic.\n\nOutput only valid TypeScript code.",
  "maxTokens": 4000,
  "files": {
    "initial": "files",
    "expected": []
  },
  "evaluation": {
    "type": "llm-judge",
    "criteria": ["code_validity", "state_preservation", "transition_logic", "type_safety", "executability"],
    "rubric": {
      "code_validity": "1.0: Valid TypeScript with no syntax errors, proper class/enum structure, correct method signatures. 0.5: Minor syntax issues. 0.0: Major syntax errors or not TypeScript.",
      "state_preservation": "1.0: All states from model correctly represented (ready, running, paused, stopped) in enum or similar structure. 0.5: Most states present but some missing or incorrect. 0.0: States not properly represented.",
      "transition_logic": "1.0: All transitions correctly implemented (ready→running on VehicleStartSignal, running→stopped on VehicleOnSignal, running→paused on VehicleOffSignal, paused→running on VehicleOffSignal, paused→stopped on VehicleOffSignal, stopped→done on VehicleOffSignal) with proper state guards. 0.5: Most transitions present but some logic errors. 0.0: Transitions not correctly implemented.",
      "type_safety": "1.0: Proper TypeScript types for states, signals/events, and return values ensuring type safety at compile time. 0.5: Some typing but not comprehensive. 0.0: No meaningful type safety.",
      "executability": "1.0: Code can be instantiated and executed - constructor sets initial state, methods can be called to trigger transitions, state changes are observable. 0.5: Partially executable but missing some functionality. 0.0: Cannot be executed or missing critical methods."
    },
    "weight": 3.0
  },
  "metadata": {
    "difficulty": "hard",
    "category": "transformation",
    "source": "GfSE/SysML-v2-Models StopWatchStates.sysml",
    "tags": ["transformation", "state-machine", "code-generation", "typescript"]
  }
}
