{
  "id": "sysml-extract-requirements-001",
  "type": "analysis",
  "name": "SysML v2 Requirement Extraction",
  "description": "Extract all requirement definitions with their documentation, attributes, and constraint expressions.",
  "prompt": "Extract all `requirement def` declarations from this SysML v2 model.\n\nReturn a JSON array where each object contains:\n- \"name\": the requirement definition name\n- \"doc\": the documentation text (from doc /* ... */)\n- \"attributes\": array of {\"name\": attr name, \"type\": attr type}\n- \"constraint\": the constraint expression if present (text inside require constraint { })\n\nExample output format:\n```json\n[\n  {\n    \"name\": \"MassRequirement\",\n    \"doc\": \"The actual mass shall be less than required\",\n    \"attributes\": [{\"name\": \"massRequired\", \"type\": \"ISQ::mass\"}],\n    \"constraint\": \"massActual <= massRequired\"\n  }\n]\n```\n\nExtract ALL requirement definitions.",
  "maxTokens": 2500,
  "files": {
    "initial": "files"
  },
  "evaluation": {
    "type": "llm-judge",
    "criteria": ["completeness", "structure_accuracy", "constraint_extraction"],
    "rubric": {
      "completeness": "1.0: All 17 requirement definitions extracted: TemperatureRegulationReqDef, CoolingFunctionReqDef, HeatingFunctionReqDef, DefrostingReqDef, AirQualityControlReqDef, UserInterfaceReqDef, PerformanceReqDef, ReliabilityReqDef, PowerConsumptionReqDef, NoiseLevelsReqDef, ElectricalSystemInterfaceReqDef, EngineInterfaceReqDef, UserInterfaceAccessibilityReqDef, TestingReqDef, UserFeedbackReqDef, GlossaryReqDef, ReferencesReqDef. 0.5: 12-16 requirements extracted. 0.0: Fewer than 12 requirements.",
      "structure_accuracy": "1.0: Each object has correct 'name', 'doc', 'attributes', and 'constraint' fields with proper values. Doc text accurately extracted from /* */ comments. 0.5: Structure mostly correct but some fields missing or malformed. 0.0: Incorrect structure.",
      "constraint_extraction": "1.0: Constraint expressions accurately extracted, e.g., 'abs(actualTemperature - setTemperature) <= 1' for TemperatureRegulationReqDef. 0.5: Most constraints correct but some truncated or modified. 0.0: Constraints missing or wrong."
    },
    "weight": 2.0
  },
  "metadata": {
    "difficulty": "medium",
    "category": "extraction",
    "source": "GfSE/SysML-v2-Models HVACSystemRequirements.sysml",
    "tags": ["extraction", "requirements", "constraints"]
  }
}
