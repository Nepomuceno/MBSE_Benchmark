{
  "id": "sysml-extract-connections-001",
  "type": "analysis",
  "name": "SysML v2 Connection Extraction",
  "description": "Extract all connection statements showing how parts and ports are connected.",
  "prompt": "Extract all `connect` statements from this SysML v2 model.\n\nReturn a JSON array where each object contains:\n- \"source\": the source reference (e.g., \"part.port\" or just \"port\")\n- \"target\": the target reference\n- \"context\": the containing part or package where the connection is defined (optional)\n\nExample output format:\n```json\n[\n  {\"source\": \"engine.drivePwrPort\", \"target\": \"transmission.clutchPort\", \"context\": \"vehicle\"},\n  {\"source\": \"Customer.inquiryOut\", \"target\": \"Manufacturer.Sales.inquiryIn\", \"context\": \"factoryContext\"}\n]\n```\n\nInclude ALL connect statements in the model.",
  "maxTokens": 2000,
  "files": {
    "initial": "files"
  },
  "evaluation": {
    "type": "llm-judge",
    "criteria": ["completeness", "json_validity", "connection_accuracy"],
    "rubric": {
      "completeness": "1.0: Extracts all ~25 connect statements including AngleProductionLine internal chain (materialIn→Heating, Heating→Bending, Bending→Cutting, Cutting→Drilling, Drilling→Grinding, Grinding→Polishing, Polishing→productOut), Manufacturer internal connections, and external connections (Customer↔Manufacturer, Supplier↔Manufacturer). 0.5: Extracts 15-24 connections. 0.0: Extracts fewer than 15 connections.",
      "json_validity": "1.0: Valid JSON array with objects containing 'source' and 'target' fields. 0.5: Valid JSON but inconsistent structure. 0.0: Invalid JSON.",
      "connection_accuracy": "1.0: Source and target references exactly match the model syntax (e.g., 'Heating.productOut' not 'heating.output'). 0.5: Most references correct but some have naming errors. 0.0: Many references incorrect or fabricated."
    },
    "weight": 1.5
  },
  "metadata": {
    "difficulty": "medium",
    "category": "extraction",
    "source": "GfSE/SysML-v2-Models Fischertechnik.sysml",
    "tags": ["extraction", "connections", "topology"]
  }
}
